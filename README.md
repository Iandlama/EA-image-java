# EA-image-java
The algorithm approximates an image by evolutionarily optimizing the parameters of semi-transparent geometric primitives to minimize their visual difference from a target image.




# Evolutionary Image Approximation (Shape-Based GA)

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç **—ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–∞–±–æ—Ä–∞ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–≥—É—Ä.  
–¶–µ–ª—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞ ‚Äî –ø—Ä–∏–±–ª–∏–∑–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–µ –∫–æ–ø–∏—Ä—É—è –ø–∏–∫—Å–µ–ª–∏ –Ω–∞–ø—Ä—è–º—É—é, –∞ **—ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Ñ–∏–≥—É—Ä**, –∫–æ—Ç–æ—Ä—ã–µ –≤ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –≤–∏–∑—É–∞–ª—å–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª.

–ê–ª–≥–æ—Ä–∏—Ç–º –Ω–∞–ø–∏—Å–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ **Java**, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

---

## –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –Ω–∞–±–æ—Ä –∏–∑ **500 –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö —Ñ–∏–≥—É—Ä**:
- —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤,
- —ç–ª–ª–∏–ø—Å–æ–≤,
- —Å–µ—Ä–¥–µ—á–µ–∫.

–ö–∞–∂–¥–∞—è —Ñ–∏–≥—É—Ä–∞ –∏–º–µ–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä–∞, –ø–æ–≤–æ—Ä–æ—Ç–∞, —Ü–≤–µ—Ç–∞, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∏ —Ñ–æ—Ä–º—ã.  
–≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã **—ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É—é—Ç** —Å –ø–æ–º–æ—â—å—é –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞, —á—Ç–æ–±—ã –∏—Ç–æ–≥–æ–≤–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å –≤—Å—ë –±–ª–∏–∂–µ –∫ —Ü–µ–ª–µ–≤–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ü–µ–ª–µ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏:
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–º–µ–Ω—å—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é (128√ó128) –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–∏—Ç–Ω–µ—Å–∞,
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (512√ó512) –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.

---

### 2. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ü–≤–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º —ç–≤–æ–ª—é—Ü–∏–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è **–≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ä–µ–¥–Ω–∏–π —Ü–≤–µ—Ç** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:

- —Å—É–º–º–∏—Ä—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è R, G, B –ø–æ –≤—Å–µ–º –ø–∏–∫—Å–µ–ª—è–º,
- —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—Å–µ–ª–µ–π.

–≠—Ç–æ—Ç —Ü–≤–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ **–±–∞–∑–æ–≤–∞—è —Ç–æ—á–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** —Ü–≤–µ—Ç–æ–≤ —Ñ–∏–≥—É—Ä, —á—Ç–æ:
- —É—Å–∫–æ—Ä—è–µ—Ç —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å,
- —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª—É—á–∞–π–Ω—ã—Ö –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å—Ç–∞—Ä—Ç–æ–≤.

---

### 3. –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (—Ö—Ä–æ–º–æ—Å–æ–º–∞)

–ö–∞–∂–¥—ã–π –∏–Ω–¥–∏–≤–∏–¥—É—É–º (–∫–∞–Ω–¥–∏–¥–∞—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ) —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **500 –≥–µ–Ω–æ–≤**, –≥–¥–µ –∫–∞–∂–¥—ã–π –≥–µ–Ω ‚Äî –æ–¥–Ω–∞ —Ñ–∏–≥—É—Ä–∞.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–¥–Ω–æ–≥–æ –≥–µ–Ω–∞:
- –ø–æ–∑–∏—Ü–∏—è `(x, y)` –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è,
- —Ä–∞–∑–º–µ—Ä,
- —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞,
- —Ü–≤–µ—Ç `(R, G, B)` –æ–∫–æ–ª–æ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ü–≤–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è,
- –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (`alpha`),
- —Ç–∏–ø —Ñ–∏–≥—É—Ä—ã (—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ / —ç–ª–ª–∏–ø—Å / —Å–µ—Ä–¥—Ü–µ),
- —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω.

---

### 4. –§–∏—Ç–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏—è

–ö–∞—á–µ—Å—Ç–≤–æ –æ—Å–æ–±–∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –ø–æ –¥–≤—É–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º:

#### üé® –¶–≤–µ—Ç–æ–≤–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ (70%)
- —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ (MSE) –º–µ–∂–¥—É –ø–∏–∫—Å–µ–ª—è–º–∏,
- –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π –≤–µ—Å –∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

#### üß† –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–æ–≤ (30%)
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä –°–æ–±–µ–ª—è,
- —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã —Ü–µ–ª–µ–≤–æ–≥–æ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

–ò—Ç–æ–≥–æ–≤—ã–π —Ñ–∏—Ç–Ω–µ—Å:
- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 0 –¥–æ 1,
- —á–µ–º –±–æ–ª—å—à–µ ‚Äî —Ç–µ–º –ª—É—á—à–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ.

---

### 5. –û—Ç–±–æ—Ä (Selection)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ç—É—Ä–Ω–∏—Ä–Ω—ã–π –æ—Ç–±–æ—Ä**:
- —Å–ª—É—á–∞–π–Ω–æ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è 8 –æ—Å–æ–±–µ–π,
- –ø–æ–±–µ–∂–¥–∞–µ—Ç —Ç–∞, —É –∫–æ—Ç–æ—Ä–æ–π –≤—ã—à–µ —Ñ–∏—Ç–Ω–µ—Å.

---

### 6. –°–∫—Ä–µ—â–∏–≤–∞–Ω–∏–µ (Crossover)

- –¥–≤—É—Ö—Ç–æ—á–µ—á–Ω—ã–π crossover,
- –±–æ–ª–µ–µ –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç **66‚Äì75% –≥–µ–Ω–æ–≤**,
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

---

### 7. –ú—É—Ç–∞—Ü–∏–∏ (Mutation)

–ú—É—Ç–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ ‚Äî –∏—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞—Å—Ç–æ–µ.

–í–æ–∑–º–æ–∂–Ω—ã–µ —Ç–∏–ø—ã –º—É—Ç–∞—Ü–∏–π:
1. —Å–º–µ—â–µ–Ω–∏–µ –ø–æ X,
2. —Å–º–µ—â–µ–Ω–∏–µ –ø–æ Y,
3. –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞,
4. –ø–æ–≤–æ—Ä–æ—Ç,
5. –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞,
6. –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏,
7. —Å–º–µ–Ω–∞ —Ç–∏–ø–∞ —Ñ–∏–≥—É—Ä—ã,
8. –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω.

---

### 8. –≠–ª–∏—Ç–∏–∑–º

–í –∫–∞–∂–¥–æ–º –ø–æ–∫–æ–ª–µ–Ω–∏–∏:
- **3 –ª—É—á—à–∏—Ö –æ—Å–æ–±–∏** –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π,
- —ç—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –ª—É—á—à–∏—Ö —Ä–µ—à–µ–Ω–∏–π.

---

### 9. –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

- —Ä–∞–∑–º–µ—Ä –ø–æ–ø—É–ª—è—Ü–∏–∏: 100,
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–æ–ª–µ–Ω–∏–π: **20 000 (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)**,
- –¥–æ—Å—Ä–æ—á–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ—Ç ‚Äî –¥–ª—è —á–µ—Å—Ç–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–æ–≤.

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã

–ù–∞ –≤—ã—Ö–æ–¥–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞:
- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–µ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É,
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å –∑–∞ —Å—á—ë—Ç —Ñ–∏–≥—É—Ä,
- –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å.

–í —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö:
- –ø—Ä–æ–≤–µ–¥–µ–Ω–æ 90 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤,
- –æ–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤ (fitness > 0.85): **~91%**.

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–Ø–∑—ã–∫:** Java (JDK 8+)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- **–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã:**
  - `java.awt`, `java.awt.geom`
  - `java.awt.image`
  - `javax.imageio`
  - `java.util`

---


